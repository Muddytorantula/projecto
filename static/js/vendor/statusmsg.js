/*
Copyright (C) Shuhao Wu 2013
http://shuhaowu.com
Licensed under Apache 2
*/
!function(){var a,b,c;a=jQuery,b=function(b){return b.css("position","fixed").css("left",(a(window).width()-b.outerWidth())/2)},c={init:function(d){return null==d&&(d={}),c.id=d.id||"statusmsg",c.msgbox=a(document.createElement("div")).addClass("statusmsg").attr("id",c.id),this.append(c.msgbox),a(window).resize(function(){return b(c.msgbox)}),a(window).resize()},open:function(d,e){var f,g,h,i,j;return null==e&&(e={}),h=e.closable||!1,i=" "+(e.type||""),f=e.autoclose||0,g=e.callback||function(){return null},j=e.unsafe||!1,h&&(d+='<a href="#" class="closebtn">&times;</a>'),j?c.msgbox.html(d):c.msgbox.text(d),c.msgbox.removeClass().addClass("statusmsg"+i),b(c.msgbox),h&&a(".closebtn",c.msgbox).click(function(a){return a.preventDefault(),c.close()}),"none"===c.msgbox.css("display")||parseFloat(c.msgbox.css("opacity"))<1?c.msgbox.fadeIn(400,g):g(),f>0?c._timeoutid=setTimeout(function(){return c.close()},f):void 0},close:function(a){var b;return null==a&&(a={}),b=a.callback||function(){return null},"none"!==c.msgbox.css("display")?c.msgbox.fadeOut(400,b):b(),c.clear_events()},clear_events:function(){return c._timeoutid?(clearTimeout(c._timeoutid),c._timeoutid=void 0,a(".closebtn",c).off("click")):void 0}},c.display=c.open,c.close=c.close,a.fn.extend({statusmsg:function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?a.error("Method "+b+" does not exist on jQuery.statusmsg"):c.init.apply(this,arguments)}})}.call(this);